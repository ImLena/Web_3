<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" >
<!--      xmlns:ice="http://www.icesoft.com/icefaces/component">-->
<ui:composition template="head.xhtml">
    <ui:define name="page">
        <table class="verst">
            <tr>
                <td>
                    <h:form id="formtab">
                        <tr>
                            <td>
                                <label for="inX">Выберите X:</label>
                                <h:inputText id="inX" type="text" maxlength="5" value="#{pointBean.point.x}" required="true" requiredMessage="Х должен быть от -3 до 3">/>
                                    <f:validateDoubleRange minimum="-2.9999" maximum="2.9999"/>
                                </h:inputText>
                            </td>
                            <td id="y"><label>Выберите y:</label><br/>
                                <h:commandButton value="1" type="button" onclick="y=1;chengeY()">
                                </h:commandButton><br/>

                                <h:commandButton value="2" type="button" onclick="y=2;chengeY()">

                                </h:commandButton><br/>
                                <h:commandButton value="3" type="button" onclick="y=3;chengeY()">

                                </h:commandButton><br/>
                                <h:commandButton value="4" type="button" onclick="y=4;chengeY()">

                                </h:commandButton><br/>
                                <h:commandButton value="5" type="button" onclick="y=5;chengeY()">

                                </h:commandButton>
                                <h:inputHidden id="inY" value="#{pointBean.point.y}"/>

                                <!--    <ace:panel>-->
                                <!--        <ace:sliderEntry min="-4" max="4" clickableRail="false" axis="x" length="1000"-->
                                <!--        stepPercent="10" id="slider"/>-->
                                <!--        </ace:panel>-->

                            </td>

                            <td><label for="inR">Выберите R:</label> <h:selectOneMenu id="inR" value="#{pointBean.point.r}">
                                <f:selectItem itemValue="1" itemLabel="1" />
                                <f:selectItem itemValue="2" itemLabel="2"/>
                                <f:selectItem itemValue="3" itemLabel="3"/>
                                <f:selectItem itemValue="4" itemLabel="4"/>
                                <f:selectItem itemValue="5" itemLabel="5"/>
                            </h:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td><h:commandButton id="send" value="Send" action="#{pointBean.addPoint()}">
                                <f:ajax execute="formtab" render="table"/>
                            </h:commandButton></td>
                        </tr>
                    </h:form>
                </td>
            </tr>
            <tr>
                <td><h:panelGroup id="table">
                    <h:dataTable value="#{pointBean.points}" var="point">
                        <h:column>
                            <f:facet name="header">X</f:facet>
                            #{point.x}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Y</f:facet>
                            #{point.y}
                        </h:column>
                        <h:column>
                            <f:facet name="header">R</f:facet>
                            #{point.r}
                        </h:column>
                        <h:column>
                            <f:facet name="header">Result</f:facet>
                            #{point.check(point.x, point.y, point.r)}
                        </h:column>
                    </h:dataTable>
                </h:panelGroup></td>
                <td>
                    <div id = "canvas"></div>
                    <h:outputScript library="js" name="canvas.js"/>
                </td>
            </tr>
        </table>
    </ui:define>
</ui:composition>
</html>